<!-- pages/my/my.wxml -->
<view class="container">
  <!-- 我的页面主界面 -->
  <view class="user-section">
    <view wx:if="{{isLoggedIn}}" class="user-info">
      <image wx:if="{{userInfo.avatarUrl}}" class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="avatar-placeholder" wx:else>{{userInfo.nickName ? userInfo.nickName.charAt(0) : '游'}}</view>
      <view class="user-details">
        <text class="nickname">{{userInfo.nickName || '用户'}}</text>
        <text class="user-id">ID: {{userInfo.userId || '未设置'}}</text>
      </view>
    </view>
    <view wx:else class="no-login">
      <text>您尚未登录</text>
      <button type="primary" bindtap="goLogin">去登录</button>
    </view>
  </view>
  <view class="menu-section">
    <view class="menu-item" bindtap="goMyPublish">
      <text class="menu-text">我的发布</text>
      <view class="menu-arrow">
        <text>→</text>
      </view>
    </view>
    <view class="menu-item" bindtap="goMyCollection">
      <text class="menu-text">我的收藏</text>
      <view class="menu-arrow">
        <text>→</text>
      </view>
    </view>
    <view class="menu-item" bindtap="goMyReport">
      <text class="menu-text">我的上报</text>
      <view class="menu-arrow">
        <text>→</text>
      </view>
    </view>
    <view class="menu-item" bindtap="goMyActivities">
      <text class="menu-text">我参与的公益活动</text>
      <view class="menu-arrow">
        <text>→</text>
      </view>
    </view>
    <view class="menu-item" bindtap="goCustomerService">
      <text class="menu-text">联系客服</text>
      <view class="menu-arrow">
        <text>→</text>
      </view>
    </view>
    <view class="menu-item" bindtap="goSettings">
      <text class="menu-text">设置</text>
      <view class="menu-arrow">
        <text>→</text>
      </view>
    </view>
  </view>
  <view wx:if="{{isLoggedIn}}" class="logout-section">
    <button class="logout-btn" bindtap="logout" type="warn">退出登录</button>
  </view>
</view>